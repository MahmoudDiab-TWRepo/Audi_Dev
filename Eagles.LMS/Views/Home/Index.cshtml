
@using Eagles.LMS.App_GlobalResources

@{

    string host = Request.Url.Host;

    bool en = true;

    if (Request.Cookies["Language"] != null)
    {
        en = (Request.Cookies["Language"].Value.ToString() == "en") ? true : false;

    }
}


@using Eagles.LMS.BLL
@using Eagles.LMS.App_GlobalResources

@{
    UnitOfWork ctx = new UnitOfWork();

    List<Car> _cars = new List<Car>();
    _cars = /*ctx.carManager.GetCarwithEquipments()*/ViewBag.Allcars;
    if (_cars == null/*&&_cars.Count()<1*/)
    {
        _cars = ctx.carManager.GetCarwithEquipments();
    }

    var _categoreis = ctx.categoryManager.GetAllBind();

    var _SubItem = ctx.SubItemManager.GetAllBind();
    var _categoreisBodyType = ctx.categoryManager.GetAllBind().Where(s => s.ShowInBodyType == true).ToList();
    var _types = ctx.typeManager.GetAllBind();

}


@section EndHeader{

    <style>
        .otherheader .otherhedcont .otheruihead li.Active1 a {
            color: #000;
            background: #e7e9ea;
        }

        .otherheader .otherhedcont .otheruihead li.Active1:hover a {
            color: #000;
        }


        .container .content {
            display: none;
            padding: 5px;
        }
    </style>
}







<div class="TapsCars" style="">
    <div class="container">
        <div class="TapsCarCont">

            <!--<div class="SeearchListItem">
            <ul id="dasdsad">-->
            @*@foreach (var item in _cars)
                {
                    <li class="DeleteLI">
                        <div class="ItemSearch">
                            <span> </span>
                            <button id="me" class="Remove"  onclick="DeleteItemFiltr()"><i class="bx bx-x"></i></button>
                        </div>
                    </li>

                }*@

            <!--</ul>
                <ul id="dasdsad">

                    <li>
                        <div class="SearchClear">

                            <button class="ClearBTN"><i class="bx bx-trash-alt"></i> <span>Reset all filters</span></button>
                        </div>
                    </li>
                </ul>
            </div>-->


            @Html.Partial("_SearchKeys")


            <div class="AudiSearchCar">
                <h2>Audi Used Car Search</h2>
                <p>
                    Here you can find the range of Audi demonstrator and pre-owned stock, including certified Audi Approved <span>:plus </span>vehicles, and make inquiry.
                </p>

                @*<div class="linksBenifits">
                        <a href="#">Benefits of Audi Approved :plus</a>
                    </div>*@
                <div class="linksBenifits">
                    <a href="#">Contact US</a>
                </div>
            </div>


            <div class="shop-single">
                <div class="product-details">
                    <div class="product-info-tabs">
                        <div class="prod-tabs tabs-box">
                            <ul class="tab-btns tab-buttons clearfix">
                                <li data-tab="#prod-details" class="tab-btn active-btn">Models</li>
                                <li data-tab="#prod-reviews" class="tab-btn ">Body types</li>
                            </ul>

                            <div class="tabs-content">

                                <!--Tab/models-->
                                <div class="tab active-tab" id="prod-details">


                                    <div class="AllCars">
                                        @foreach (var item in _categoreis)
                                        {
                                            <div class="ItemOfCars" id="select_ALL_@item.ID" data-getname="select_ALL_@item.ID" onclick="getitem(`${this.id}`)">


                                                @* <input type="checkbox" id="@item.ID" class="checkall">*@


                                                <div class="MainCarItem">


                                                    <div class="Images">
                                                        <img class="MainImgOne" src="@item.MainImageOne" />
                                                        <img class="MainImgTwo" src="@item.MainImageTwo" />
                                                    </div>
                                                    <div class="CarTitle">
                                                        <div class="checkbox">
                                                            <label>
                                                                <input class="car_category checkallParent " type="checkbox" id="@item.ID">
                                                                <span class="cr"> <i class="cr-icon fas fa-check"></i></span>
                                                                @item.Name <span class="CountCar">(1)</span>
                                                            </label>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="GroupChildCars">

                                                    @foreach (var itemtype in _SubItem.Where(s => s.CategoryID == item.ID).ToList())
                                                    {

                                                        <div class="ChildCarItem">
                                                            <div class="Images">
                                                                <img class="MainImgOne" src="@itemtype.MainImageOne" />
                                                                @* @<img class="MainImgTwo" src="@itemcategory.MainImageTwo" />@*@
                                                            </div>
                                                            <div class="CarTitle">
                                                                <div class="checkbox ">
                                                                    <label class="checklable">
                                                                        <input name="child" class="car_type checkChild " type="checkbox" id="@itemtype.Id">
                                                                        <span class="cr"> <i class="cr-icon fas fa-check"></i></span>
                                                                        @itemtype.Name <span class="CountCar">(1)</span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>



                                                    }
                                                </div>
                                            </div>


                                        }
                                    </div>

                                </div>





                                <div class="tab " id="prod-reviews">
                                    <div class="AllCars">
                                        @foreach (var item in _types)
                                        {
                                            <div class="ItemOfCars" id="select_@item.ID" data-getname="select_@item.ID" onclick="getitem(`${this.id}`)">
                                                <input type="checkbox" id="@item.ID" class="car_category checkall">


                                                <div class="MainCarItem">


                                                    <div class="Images">
                                                        <img class="MainImgOne" src="@item.MainImageOne" />
                                                        <img class="MainImgTwo" src="@item.MainImageTwo" />
                                                    </div>
                                                    <div class="CarTitle">
                                                        <div class="checkbox">
                                                            <label>
                                                                <input class="car_type checkallParent" type="checkbox" id="@item.ID">
                                                                <span class="cr"> <i class="cr-icon fas fa-check"></i></span>
                                                                @item.Name <span class="CountCar">(1)</span>
                                                            </label>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="GroupChildCars">
                                                    @foreach (var itemcategory in _SubItem.Where(s => s.TypeID == item.ID).ToList())
                                                    {


                                                        <div class="ChildCarItem">
                                                            <div class="Images">
                                                                <img class="MainImgOne" src="@itemcategory.MainImageOne" />
                                                                @*@<img class="MainImgTwo" src="@itemcategory.MainImageTwo" />@*@
                                                            </div>
                                                            <div class="CarTitle">
                                                                <div class="checkbox">
                                                                    <label>
                                                                        <input class="car_category checkChild" type="checkbox" id="@itemcategory.Id">
                                                                        <span class="cr"> <i class="cr-icon fas fa-check"></i></span>
                                                                        @itemcategory.Name <span class="CountCar">(1)</span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>



                                                    }
                                                </div>
                                            </div>


                                        }
                                    </div>

                                </div>
                            </div>
                        </div>



                    </div>
                </div>
            </div>

            @*<div class="checkboxss">

                    <div class="container">
                        <div id="customerServices0">
                            <input id="s90" onchange="checkAll(this)" class="parent" type="checkbox" /> Parent element<br />
                            <input id="s150" class="parent-s9" type="checkbox" /> Child element<br />
                            <input id="s160" class="parent-s9" type="checkbox" /> Child element<br />
                            <br /><br /><br />
                        </div>
                    </div>
                </div>*@




            @*<div id="customerServices">
                    <input id="s9" class="parent" type="checkbox" /> Parent element<br />
                    <input id="s15" class="parent-s9" type="checkbox" /> Child element<br />
                    <input id="s16" class="parent-s9" type="checkbox" /> Child element<br />


                </div>*@



            <div class="ModelYears">
                <div class="container">
                    <div class="TutelModel">
                        <h2>
                            Model Year
                        </h2>
                    </div>
                    <div class="" id="price">
                        <div class="middle">
                            <div class="multi-range-slider">
                                <input type="range" step="1" id="input-left" min="2005" max="2022" value="2005">
                                <input type="range" step="1" id="input-right" min="2005" max="2022" value="2022">
                                <div class="slider">
                                    <div class="track"></div>
                                    <div class="range"></div>
                                    <div class="thumb left"></div>
                                    <div class="thumb right"></div>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex align-items-center justify-content-between mt-4">
                            <div> <span id="amount-left" class="font-weight-bold"></span> </div>
                            <div> <span id="amount-right" class="font-weight-bold"></span> </div>
                        </div>
                    </div>

                </div>


            </div>


            <div class="NextPage">
                <div class="container">
                    <div class="linknextPage">
                        <a href="/Home/Engine">Engine</a>
                    </div>
                </div>
            </div>


            @Html.Partial("_Results")

        </div>
    </div>
</div>










@section EndBody {

    <script>
        // For Filters
        document.addEventListener("DOMContentLoaded", function () {
            var filterBtn = document.getElementById('filter-btn');
            var btnTxt = document.getElementById('btn-txt');
            var filterAngle = document.getElementById('filter-angle');


            // For Range Sliders
            var inputLeft = document.getElementById("input-left");
            var inputRight = document.getElementById("input-right");

            var thumbLeft = document.querySelector(".slider > .thumb.left");
            var thumbRight = document.querySelector(".slider > .thumb.right");
            var range = document.querySelector(".slider > .range");

            var amountLeft = document.getElementById('amount-left')
            var amountRight = document.getElementById('amount-right')

            function setLeftValue() {
                var _this = inputLeft,
                    min = parseInt(_this.min),
                    max = parseInt(_this.max);

                _this.value = Math.min(parseInt(_this.value), parseInt(inputRight.value) - 1);


                var percent = ((_this.value - min) / (max - min)) * 100;

                thumbLeft.style.left = percent + "%";
                range.style.left = percent + "%";
                amountLeft.innerText = parseInt(_this.value * 1);
            }
            setLeftValue();

            function setRightValue() {
                var _this = inputRight,
                    min = parseInt(_this.min),
                    max = parseInt(_this.max);

                _this.value = Math.max(parseInt(_this.value), parseInt(inputLeft.value) + 1);



                var percent = ((_this.value - min) / (max - min)) * 100;

                amountRight.innerText = parseInt(_this.value * 1);
                thumbRight.style.right = (100 - percent) + "%";
                range.style.right = (100 - percent) + "%";
            }
            setRightValue();

			let inputRightValuel;
            let inputLeftValuel;

            inputLeft.addEventListener("input", setLeftValue);
            inputRight.addEventListener("input", setRightValue);

            inputLeft.addEventListener("mouseover", function () {
                thumbLeft.classList.add("hover");
            });
            inputLeft.addEventListener("mouseout", function () {
                thumbLeft.classList.remove("hover");
            });
            inputLeft.addEventListener("mousedown", function () {
                thumbLeft.classList.add("active");
            });
            inputLeft.addEventListener("mouseup", function () {
                thumbLeft.classList.remove("active");
            });

            inputLeft.addEventListener("change", function (e) {
                //debugger;
                inputLeftValuel = e.target.value;
                if (inputLeftValuel != null && inputLeftValuel != 0) {

                    ajaxRangeLeft(parseInt(inputLeftValuel));
                }
            });

            inputRight.addEventListener("mouseover", function () {
                thumbRight.classList.add("hover");
            });
            inputRight.addEventListener("mouseout", function () {
                thumbRight.classList.remove("hover");
            });
            inputRight.addEventListener("mousedown", function () {
                thumbRight.classList.add("active");
            });
            inputRight.addEventListener("mouseup", function () {
                thumbRight.classList.remove("active");
            });

            inputRight.addEventListener("change", function (e) {
               // debugger;
                inputRightValuel = e.target.value;
                if (inputRightValuel != null && inputRightValuel != 0) {

                    ajaxRangeRight(parseInt(inputRightValuel));
                }
            });

        });
        // Start Ajax Filter
        $(".ItemOfCars").click(function () {
            //debugger;
            $(".ItemOfCars").map(function () {
                $(".ItemOfCars").removeClass("open")
            });
            //document.querySelector(`#${id}`).classList.add("open")

            //var dataId = $(this).data("id");
            var datas = $(this).attr("data-getname");

            var d = document.getElementById(datas);
            d.classList.add("open");

            //$(".ItemOfCars").addClass("open");
            //var arr = $(".CarCheck:checked").map(function () {
            //    debugger;
            //    return $(this).val();
            //});
        });
        function getitem(id) {

            //debugger;
            //$(".MainCarItem").map(function () {
            //    $(this).parent().removeClass("open")
            //});

            //document.querySelector(`#${id}`).parentNode.classList.add("open")
        }
        //$(".ItemOfCars").click(function () {
        //    debugger;
        //    var myEm = $(this).attr('id');
        //    //alert(myEm);
        //    $('section[id = ' + myEm + ']').addClass('open');
        //});
        //var array = [];
        //$(".checkbox").click(function () {
        //    debugger;
        //    array = $(".CarCheck:checked").map(function () {
        //        return $(this).attr("id");
        //    });


        //console.log(array);


        function ajaxRangeLeft(left) {
            //debugger;
            if (left != null && left != 0) {
                $.ajax({
                    type: "POST",
                    url: "/Home/SetLeftRange",
                    data: JSON.stringify({ left: left }),
                    contentType: 'application/json; charset=utf-8',
                    success: (response) => {
                        $(".CandDelete").remove();
                        $('#realItem').addClass('RelatedItemClass');
                        
                        if (response != null && response != "") {
                            $('#dasdsad').load('@Url.Action("_SearchKeys", "Home")');
                            var jsonresponse = JSON.parse(response);
                            for (let i = 0; i < jsonresponse.length; i++) {

                                //result
                                $("#NewCAr").append('<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 CandDelete"><div class=ResultItem><div class=ResutContItem><div class=Imagess><div class="services-carousel"><div class=slide-item><div class=images><img src="' + jsonresponse[i].MainImage + '"></div></div> </div></div> <div class=ItemDetails><h1>' + jsonresponse[i].CarName + '</h1> <p>' + jsonresponse[i].ShortDiscription + ' <h2>$' + jsonresponse[i].Price + '</h2> <div class=LocationDistination><div class=DistnItem><div class=icon><span><i class="bx bx-map"></i></span></div> <div class=DitinaDetails><p>Audi Approved plus  <br>in Obour city</div></div> <div class=DistnItem><div class=icon><img src=/assets_Audi/images/Audiimg/CarImgs/speedo.svg></div> <div class=DitinaDetails><p> ' + jsonresponse[i].Distance + 'km </div></div></div> <div class=LinaktElItem><ul><li><a href="/Home/CarDetails/' + jsonresponse[i].ID + '" >Explore vehicle</a> <li><a class=DarkBG href=#> Enquire Now</a></ul></div> <div class=FavCompair><ul><li><a class=FavCOmItem href=#><div class=icon><span><i class="bx bx-star"></i></span></div> <div class=favdisc><p>Add to favourites</div></a> <li><a class=FavCOmItem href=#><div class=icon><span><i class="bx bx-git-compare"></i></span></div> <div class=favdisc><p>Add to comparison</div></a></ul></div></div></div></div></div>')
                            }
                        }
                        else {
                            $('#dasdsad').load('@Url.Action("_SearchKeys", "Home")');
                        }
                    }, error: (error) => {
                        $("#descrip").text("NewCar");
                    }
                });
            }
        }

        function ajaxRangeRight(right) {
                //debugger;
            $(".CandDelete").remove();
            if (right != null && right != 0) {
                $.ajax({
                    type: "POST",
                    url: "/Home/SetRightRange",
                    data: JSON.stringify({ right: right }),
                    contentType: 'application/json; charset=utf-8',
                    success: (response) => {
                        $(".CandDelete").remove();
                        $('#realItem').addClass('RelatedItemClass');
                        if (response != null && response != "") {
                            $('#dasdsad').load('@Url.Action("_SearchKeys", "Home")');
                            var jsonresponse = JSON.parse(response);
                            for (let i = 0; i < jsonresponse.length; i++) {
                                //result
                                $("#NewCAr").append('<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 CandDelete"><div class=ResultItem><div class=ResutContItem><div class=Imagess><div class="services-carousel"><div class=slide-item><div class=images><img src="' + jsonresponse[i].MainImage + '"></div></div> </div></div> <div class=ItemDetails><h1>' + jsonresponse[i].CarName + '</h1> <p>' + jsonresponse[i].ShortDiscription + ' <h2>$' + jsonresponse[i].Price + '</h2> <div class=LocationDistination><div class=DistnItem><div class=icon><span><i class="bx bx-map"></i></span></div> <div class=DitinaDetails><p>Audi Approved plus  <br>in Obour city</div></div> <div class=DistnItem><div class=icon><img src=/assets_Audi/images/Audiimg/CarImgs/speedo.svg></div> <div class=DitinaDetails><p> ' + jsonresponse[i].Distance + 'km </div></div></div> <div class=LinaktElItem><ul><li><a href="/Home/CarDetails/' + jsonresponse[i].ID + '" >Explore vehicle</a> <li><a class=DarkBG href=#> Enquire Now</a></ul></div> <div class=FavCompair><ul><li><a class=FavCOmItem href=#><div class=icon><span><i class="bx bx-star"></i></span></div> <div class=favdisc><p>Add to favourites</div></a> <li><a class=FavCOmItem href=#><div class=icon><span><i class="bx bx-git-compare"></i></span></div> <div class=favdisc><p>Add to comparison</div></a></ul></div></div></div></div></div>')
                            }
                        }
                        else {
                            $('#dasdsad').load('@Url.Action("_SearchKeys", "Home")');
                        }
                    }, error: (error) => {
                        $("#descrip").text("NewCar");
                    }
                });
            }
        }
        function getcarscategories(obj) {
            //debugger;

            var arrofcarscategory = $(".car_category:checked").map(function () {

                return $(this).attr("id");
            });

            var arrofcarstype = $(".car_type:checked").map(function () {

                return $(this).attr("id");
            });
            //debugger
            $(".CandDelete").map(function () {

                return $(this).remove();
            });
            var _arrofcarscategory = new Array();
            var _arrofcarsTypes = new Array();

            for (var i = 0; i < arrofcarscategory.length; i++) {
                _arrofcarscategory.push(arrofcarscategory[i]);
            } for (var i = 0; i < arrofcarstype.length; i++) {
                _arrofcarsTypes.push(arrofcarstype[i]);
            }

            obj.Data = {

                CarType: _arrofcarsTypes,
                CarCategory: _arrofcarscategory
            }
            return true;
        }

        if ($('.services-carousel').length) {
            $('.services-carousel').owlCarousel({
                loop: false,
                margin: 0,
                nav: true,
                smartSpeed: 500,
                autoHeight: true,
                autoplay: false,
                autoplayTimeout: 5000,
                navText: ['<span class="bx bx-chevron-left"></span>', '<span class="bx bx-chevron-right"></span>'],
                responsive: {
                    0: {
                        items: 1
                    },
                    768: {
                        items: 1
                    },
                    1024: {
                        items: 1
                    },
                    1200: {
                        items: 1
                    },
                }
            });
        }

        $(".checkbox").click(function () {
            $(".CandDelete").remove();

            let obj = {};
            var x = [];
            if (getcarscategories(obj)) {
                //if ((obj.Data.CarCategory.length > 0 && obj.Data.CarCategory != null) || (obj.Data.CarType.length > 0 && obj.Data.CarType != null)) {
                //debugger;
                $.ajax({
                    type: "POST",
                    url: "/Home/Carfilter",
                    data: JSON.stringify(obj.Data),
                    contentType: 'application/json; charset=utf-8',
                    success: (response) => {
                        $(".CandDelete").remove();
                        $('#realItem').addClass('RelatedItemClass');
                        if (response != null && response != "") {
                            var jsonresponse = JSON.parse(response);
                            //console.log("data -->", obj.Data);
                            $('#dasdsad').load('@Url.Action("_SearchKeys", "Home")');
                            if (jsonresponse.length != 0) {
                                for (let i = 0; i < jsonresponse.length; i++) {
                                    $("#NewCAr").append('<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 CandDelete"><div class=ResultItem><div class=ResutContItem><div class=Imagess><div class="services-carousel"><div class=slide-item><div class=images><img src="' + jsonresponse[i].MainImage + '"></div></div> </div></div> <div class=ItemDetails><h1>' + jsonresponse[i].CarName + '</h1> <p>' + jsonresponse[i].ShortDiscription + ' <h2>$' + jsonresponse[i].Price + '</h2> <div class=LocationDistination><div class=DistnItem><div class=icon><span><i class="bx bx-map"></i></span></div> <div class=DitinaDetails><p>Audi Approved plus  <br>in Obour city</div></div> <div class=DistnItem><div class=icon><img src=/assets_Audi/images/Audiimg/CarImgs/speedo.svg></div> <div class=DitinaDetails><p> ' + jsonresponse[i].Distance + 'km </div></div></div> <div class=LinaktElItem><ul><li><a href="/Home/CarDetails/' + jsonresponse[i].ID + '" >Explore vehicle</a> <li><a class=DarkBG href=#> Enquire Now</a></ul></div> <div class=FavCompair><ul><li><a class=FavCOmItem href=#><div class=icon><span><i class="bx bx-star"></i></span></div> <div class=favdisc><p>Add to favourites</div></a> <li><a class=FavCOmItem href=#><div class=icon><span><i class="bx bx-git-compare"></i></span></div> <div class=favdisc><p>Add to comparison</div></a></ul></div></div></div></div></div>')
                                }
                            }

                        } else {
                            $('#dasdsad').load('@Url.Action("_SearchKeys", "Home")');
                        }


                        $("#DeleteAllSearch").click(function () {
                            alert('delete BTN')
                        });
                        $(".ClearBTN").click(function () {
                            alert('fff')
                            $("li").remove(".DeleteLI");
                        });
                        $(".DeleteLI").click(function () {
                            $(this).remove(".DeleteLI");
                        });

                      

                        

                    }, error: (error) => {
                        //debugger;
                        $("#descrip").text("NewCar");
                        // unauthorize
                        //let errorMessage = manageAjaxError(error);
                        //    pushNotification("danger", errorMessage);
                    }
                });
            }

        });

        //$(document).ready(function () {
        //    $(".ClearBTN").click(function () {
        //        $("li").remove(".DeleteLI");
        //    });
        //});


    </script>


    <script>

        $(document).ready(function () {
            //var checkboxHandlerObj = {
            //    init: function () {
            //        $('#customerServices input:checkbox[class="parent"]').click(checkboxHandlerObj.parentClicked);
            //        $('#customerServices input:checkbox[class^="parent-"]').click(checkboxHandlerObj.childClicked);
            //    },

            //    parentClicked: function () {
            //        if ($(this).attr('checked')) {
            //            $('#customerServices input:checkbox[class="parent-' + $(this).attr('id') + '"]').attr('checked', 'checked');
            //        } else {
            //            $('#customerServices input:checkbox[class="parent-' + $(this).attr('id') + '"]').removeAttr('checked');
            //        }
            //    },

            //    childClicked: function () {
            //        var temp = $(this).attr('class').split('-');
            //        var parentId = temp[1];

            //        if ($(this).attr('checked')) {
            //            $('#' + parentId).attr('checked', 'checked');
            //        } else {
            //            var atLeastOneEnabled = false;
            //            $('#customerServices input:checkbox[class="' + $(this).attr('class') + '"]').each(function () {
            //                if ($(this).attr('checked')) {
            //                    atLeastOneEnabled = true;
            //                }
            //            });
            //            if (!atLeastOneEnabled) {
            //                $('#' + parentId).removeAttr('checked');
            //            }
            //        }
            //    }

            //};

            //checkboxHandlerObj.init();



            //$("#s9").change(function () {
            //    if ($(this).is(':checked')) {
            //        var cls = '.parent-' + $(this).attr('id');
            //        $(cls).attr('checked', true);
            //    }
            //});

            //$('input[class*="parent"]').change(function () {
            //    var cls = '.' + $(this).attr('class') + ':checked';
            //    var len = $(cls).length;
            //    var parent_id = '#' + $(this).attr('class').split('-')[1];

            //    // 3. Check parent if at least one child is checked
            //    if (len) {
            //        $(parent_id).attr('checked', true);
            //    } else {
            //        // 2. Uncheck parent if all childs are unchecked.
            //        $(parent_id).attr('checked', false);
            //    }
            //});


            //var checkboxs = document.querySelectorAll("input[type = 'checkbox']")

            //function checkAll(myCheckBox) {
            //    if (myCheckBox.checked == true) {
            //        checkboxs.forEach(function (checkbox) {
            //            alert('ssssssssss');
            //            checkbox.checked = true;
            //        })
            //    }
            //}

        });
    </script>





    <script type="text/javascript">
        //$(document).ready(function () {




        //var checkboxHandlerObj = {
        //    init: function () {
        //        $('#customerServices input:checkbox[class="parent"]').click(checkboxHandlerObj.parentClicked);
        //        $('#customerServices input:checkbox[class^="parent-"]').click(checkboxHandlerObj.childClicked);
        //    },

        //    parentClicked: function () {
        //        if ($(this).attr('checked')) {
        //            $('#customerServices input:checkbox[class="parent-' + $(this).attr('id') + '"]').attr('checked', 'checked');
        //        }
        //        else {
        //            $('#customerServices input:checkbox[class="parent-' + $(this).attr('id') + '"]').removeAttr('checked');
        //        }
        //    },

        //    childClicked: function () {
        //        var temp = $(this).attr('class').split('-');
        //        var parentId = temp[1];

        //        if ($(this).attr('checked')) {
        //            $('#' + parentId).attr('checked', 'checked');
        //        }
        //        else {
        //            var atLeastOneEnabled = true;
        //            $('#customerServices input:checkbox[class="' + $(this).attr('class') + '"]').each(function () {
        //                if ($(this).attr('checked')) {
        //                    atLeastOneEnabled = false;
        //                }
        //            });
        //            if (!atLeastOneEnabled) {
        //                $('#' + parentId).removeAttr('checked');
        //            }
        //        }
        //    }

        //    }


        //    checkboxHandlerObj.init();

        //});
    </script>


    <script>

        $(document).ready(function () {
            $('.ItemOfCars .checkall').on('change', function () {
                $(this).nextUntil('.ItemOfCars .checkChild lable').find('input[type=checkbox]').prop('checked', this.checked);
            });

        });
    </script>




}
















































